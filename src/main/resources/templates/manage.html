<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Manage Pricing - [[${bar.barName}]]</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
</head>
<body>

<nav class="navbar navbar-dark bg-warning text-dark">
    <div class="container-fluid">
        <span class="navbar-brand text-dark">
            <i class="bi bi-tag"></i> Pricing - [[${bar.barName}]]
        </span>
    </div>
</nav>

<div class="container mt-4">
    <h4>Set Product Prices</h4>
    <p class="text-muted">Configure selling and cost prices for each product</p>

    <div class="table-responsive mt-3">
        <table class="table table-bordered table-hover">
            <thead class="table-dark">
            <tr>
                <th>Product</th>
                <th>Category</th>
                <th>Brand</th>
                <th>Selling Price (₹)</th>
                <th>Cost Price (₹)</th>
                <th>Action</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="product : ${products}">
                
                <form th:action="@{'/pricing/' + ${bar.barId} + '/' + ${product.productId}}" method="post">
                    
                    <td>
                        <strong th:text="${product.productName}"></strong>
                    </td>

                    <td th:text="${product.category}"></td>
                    <td th:text="${product.brand}"></td>

                    <td>
                        <input type="number"
                               name="sellingPrice"
                               step="0.01"
                               required
                               class="form-control form-control-sm"
                               placeholder="0.00">
                    </td>

                    <td>
                        <input type="number"
                               name="costPrice"
                               step="0.01"
                               class="form-control form-control-sm"
                               placeholder="0.00">
                    </td>

                    <td>
                        <button type="submit" class="btn btn-sm btn-success">
                            <i class="bi bi-save"></i> Save
                        </button>
                    </td>

                </form>

            </tr>
            </tbody>
        </table>
    </div>

    <div class="alert alert-info mt-4">
        <strong>Current Prices:</strong>
        <ul>
            <li th:each="price : ${prices}">
                <strong th:text="${price.product.productName}"></strong> :
                Selling ₹<span th:text="${price.sellingPrice}"></span> ,
                Cost ₹<span th:text="${price.costPrice}"></span>
            </li>
        </ul>
    </div>

    <div class="mt-3">
        <a href="/" class="btn btn-secondary">
            <i class="bi bi-house"></i> Home
        </a>
    </div>
</div>

</body>
</html>